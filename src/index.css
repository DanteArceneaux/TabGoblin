@tailwind base;
@tailwind components;
@tailwind utilities;

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Ensure pixel art renders crispy */
.goblin-sprite {
  image-rendering: pixelated;
  image-rendering: -moz-crisp-edges;
  image-rendering: crisp-edges;
}

/* Smooth transitions for mood changes */
.goblin-container {
  transition: filter 0.3s ease, transform 0.3s ease;
}

/* Add subtle drop shadow for depth */
.goblin-sprite {
  filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.5));
}

/* Shake animation for corrupted state */
@keyframes shake {
  0%, 100% { transform: translateX(0); }
  10%, 30%, 50%, 70%, 90% { transform: translateX(-2px); }
  20%, 40%, 60%, 80% { transform: translateX(2px); }
}

.animate-shake {
  animation: shake 0.5s ease-in-out infinite;
}

/* Wiggle animation for idle behavior */
@keyframes wiggle {
  0%, 100% { transform: rotate(0deg); }
  25% { transform: rotate(-5deg); }
  75% { transform: rotate(5deg); }
}

.animate-wiggle {
  animation: wiggle 0.8s ease-in-out;
}

/* Utility for delayed animations */
.delay-100 { animation-delay: 100ms; }
.delay-150 { animation-delay: 150ms; }
.delay-200 { animation-delay: 200ms; }

/* ========================================
   CRT BOOT-UP ANIMATION
   ======================================== */
@keyframes crt-on {
  0% {
    transform: scaleY(0.005) scaleX(0.8);
    filter: brightness(10);
  }
  20% {
    transform: scaleY(0.005) scaleX(0.8);
    filter: brightness(10);
  }
  40% {
    transform: scaleY(1) scaleX(0.8);
    filter: brightness(2);
  }
  60% {
    transform: scaleY(1) scaleX(1);
    filter: brightness(1.5);
  }
  80% {
    transform: scaleY(1) scaleX(1);
    filter: brightness(1);
  }
  100% {
    transform: scaleY(1) scaleX(1);
    filter: brightness(1);
  }
}

.crt-boot {
  animation: crt-on 0.6s ease-out forwards;
  transform-origin: center center;
}

/* Screen flicker effect */
@keyframes flicker {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.95; }
}

.crt-flicker {
  animation: flicker 0.1s ease-in-out 3;
}

/* ========================================
   UI SLIDE TRANSITIONS
   ======================================== */
@keyframes slideDown {
  0% {
    transform: translateY(-100%);
    opacity: 0;
  }
  100% {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes slideUp {
  0% {
    transform: translateY(0);
    opacity: 1;
  }
  100% {
    transform: translateY(-100%);
    opacity: 0;
  }
}

.slide-down {
  animation: slideDown 0.3s ease-out forwards;
}

.slide-up {
  animation: slideUp 0.2s ease-in forwards;
}

/* ========================================
   EVOLUTION SEQUENCE
   ======================================== */
@keyframes evolutionFlash {
  0%, 100% { opacity: 0; }
  10%, 30%, 50% { opacity: 1; }
  20%, 40%, 60% { opacity: 0; }
}

.evolution-flash {
  animation: evolutionFlash 1s ease-in-out forwards;
}

@keyframes evolutionPulse {
  0%, 100% { filter: brightness(1); transform: scale(1); }
  25% { filter: brightness(2); transform: scale(1.1); }
  50% { filter: brightness(1); transform: scale(0.95); }
  75% { filter: brightness(2); transform: scale(1.1); }
}

.evolution-pulse {
  animation: evolutionPulse 1.5s ease-in-out;
}

/* ========================================
   SLEEP / IDLE ANIMATIONS
   ======================================== */
@keyframes float-zzz {
  0% {
    transform: translateY(0) translateX(0) scale(0.5);
    opacity: 0;
  }
  20% {
    opacity: 1;
  }
  100% {
    transform: translateY(-40px) translateX(15px) scale(1);
    opacity: 0;
  }
}

.zzz-particle {
  animation: float-zzz 2s ease-out forwards;
}

@keyframes sleep-bob {
  0%, 100% { transform: rotate(90deg) translateY(0); }
  50% { transform: rotate(90deg) translateY(-3px); }
}

.sleeping {
  transform: rotate(90deg);
  filter: brightness(0.8);
  animation: sleep-bob 2s ease-in-out infinite;
}

/* ========================================
   DEATH / REVIVE ANIMATIONS
   ======================================== */
@keyframes death-fade {
  0% {
    filter: grayscale(0) brightness(1);
  }
  100% {
    filter: grayscale(1) brightness(0.6);
  }
}

.dying {
  animation: death-fade 2s ease-out forwards;
}

.dead {
  filter: grayscale(1) brightness(0.6) opacity(0.7);
}

@keyframes ghost-float {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-8px); }
}

.ghost {
  filter: grayscale(1) brightness(0.5) opacity(0.5);
  animation: ghost-float 2s ease-in-out infinite;
}

@keyframes revive-burst {
  0% {
    filter: grayscale(1) brightness(0.5);
    transform: scale(0.8);
  }
  50% {
    filter: grayscale(0) brightness(2);
    transform: scale(1.2);
  }
  100% {
    filter: grayscale(0) brightness(1);
    transform: scale(1);
  }
}

.reviving {
  animation: revive-burst 0.8s ease-out forwards;
}

/* ========================================
   REACTION MICRO-ANIMATIONS
   ======================================== */
@keyframes happy-bounce {
  0%, 100% { transform: scale(1) translateY(0); }
  50% { transform: scale(1.15) translateY(-5px); }
}

.happy-bounce {
  animation: happy-bounce 0.3s ease-out;
}

@keyframes sad-squish {
  0%, 100% { transform: scaleY(1); }
  50% { transform: scaleY(0.8); }
}

.sad-squish {
  animation: sad-squish 0.3s ease-out;
}

@keyframes stress-shake {
  0%, 100% { transform: translateX(0); }
  25% { transform: translateX(-3px); }
  75% { transform: translateX(3px); }
}

.stress-shake {
  animation: stress-shake 0.2s ease-in-out 3;
}

/* Sweat drop overlay */
@keyframes sweat-drop {
  0% { transform: translateY(-5px); opacity: 0; }
  30% { opacity: 1; }
  100% { transform: translateY(10px); opacity: 0; }
}

.sweat-drop {
  animation: sweat-drop 1s ease-in forwards;
}

/* ========================================
   TUTORIAL ANIMATIONS
   ======================================== */
@keyframes pulse-arrow {
  0%, 100% { transform: translateX(0); opacity: 1; }
  50% { transform: translateX(5px); opacity: 0.7; }
}

.pulse-arrow {
  animation: pulse-arrow 0.8s ease-in-out infinite;
}

@keyframes pulse-glow {
  0%, 100% { box-shadow: 0 0 5px currentColor; }
  50% { box-shadow: 0 0 20px currentColor, 0 0 30px currentColor; }
}

.pulse-glow {
  animation: pulse-glow 1s ease-in-out infinite;
}

/* Hide scrollbar but allow scrolling */
.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}
.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

